<!-- This template replaces the #poll-area div via HTMX -->
<div id="poll-area">
    <h2 class="text-2xl font-semibold mb-2 text-gray-800">{{ .Poll.Question }}</h2>
    <p class="text-sm text-gray-500 mb-6">Results ({{ .TotalVotes }} total votes)</p>

    <div class="space-y-4">
        {{ range .OptionResults }}
        <div class="mb-2">
            <div class="flex justify-between mb-1 text-sm font-medium text-gray-700">
                <span>{{ .Text }}</span>
                <span>{{ .Count }} votes ({{ printf "%.1f" .Percentage }}%)</span>
            </div>
            <div class="progress-bar-bg">
                <!-- stylelint-disable-next-line declaration-colon-space-after, value-keyword-case -->
                <div class="progress-bar-fill" style="width: {{ printf "%.1f%%" .Percentage }};">
                    <!-- Optional: Show percentage inside bar if wide enough -->
                     {{ if gt .Percentage 10 }}{{ printf "%.1f" .Percentage }}%{{ end }}
                </div>
            </div>
        </div>
        {{ else }}
        <p class="text-gray-600">No votes have been cast yet.</p>
        {{ end }}
    </div>

     <div class="mt-8 text-center border-t pt-4">
         <a href="/" class="text-blue-600 hover:text-blue-800 font-medium">Create another poll?</a>
          <p class="text-xs text-gray-500 mt-2">Share link:
            <input type="text" readonly value="{{ .BaseURL }}/poll/{{ .Poll.UUID }}" class="text-center border rounded px-2 py-1 bg-gray-100 text-gray-600 w-full md:w-auto" onclick="this.select();">
         </p>
    </div>
</div>